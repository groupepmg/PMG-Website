<!DOCTYPE html>
<html lang="fr">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17017524557"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'AW-17017524557');
</script>
<head>
  <meta charset="UTF-8" />
  <title>Demandez une soumission de déménagement | PMG Déménagement - Montréal</title>
  <meta name="description" content="Obtenez une soumission rapide et transparente de PMG Déménagement. Services professionnels de déménagement résidentiel et commercial à Montréal.">
  <meta name="keywords" content="déménagement Montréal, soumission déménagement, PMG Déménagement, services de déménagement résidentiel, déménagement commercial">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      font-family: system-ui, sans-serif;
      background-color: #f4f6ff;
      padding-top: 80px;
    }
    .btn {
      border-radius: 999px !important;
      padding: 0.375rem 1rem;
    }
    h1 {
      color: #0057ff;
    }
    .lead {
      color: #0057ff;
    }
    .form-label {
      color: #0057ff;
      font-weight: 500;
    }
    .btn-primary {
      background-color: #ff6f61;
      border-color: #ff6f61;
    }
    .btn-primary:hover {
      background-color: #ff3d3d;
      border-color: #ff3d3d;
    }
    /* Ensure form fields are always visible */
    .form-control, .form-select {
      min-height: 44px;
    }
    @media (max-width: 576px) {
      .container {
        padding-left: 1.25rem;
        padding-right: 1.25rem;
      }
      .form-label {
        font-size: 1rem;
      }
      h1 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }
      .lead {
        font-size: 1rem;
      }
      .form-control,
      select,
      textarea {
        font-size: 1rem;
        padding: 0.75rem;
      }
      .btn {
        font-size: 1rem;
        padding: 0.75rem;
      }
    }
  </style>
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.svg') }}" type="image/svg+xml">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center fw-bold" href="/fr">
        <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="PMG Logo" style="height: 36px;" class="me-2">
        <span>PMG Déménagement</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse mt-2 mt-lg-0" id="navbarNavAltMarkup">
        <div class="navbar-nav ms-auto">
          <a class="btn btn-outline-primary me-2 mb-2 mb-lg-0 rounded-pill" href="/fr/quote">Obtenir une soumission</a>
          <a class="btn btn-outline-success me-2 mb-2 mb-lg-0 rounded-pill" href="/fr/cleaning">Services de nettoyage</a>
          <a class="btn btn-outline-info me-2 mb-2 mb-lg-0 rounded-pill" href="/fr/reviews">Avis</a>
          <a class="btn btn-outline-warning me-2 mb-2 mb-lg-0 rounded-pill" href="/fr/gallery">Galerie</a>
          <a class="btn btn-outline-secondary mb-2 mb-lg-0 rounded-pill" href="/fr/contact">Contact</a>
        </div>
      </div>
    </div>
  </nav>

  <div class="container px-4 py-5 mt-5" style="max-width: 600px; background-color: #ffffff; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.05);">
    <h1 class="mb-4">Demander un devis</h1>
    <p class="lead mb-4">Service rapide et transparent à Montréal. Obtenez votre soumission gratuite dès aujourd'hui.</p>

    <form method="POST" action="/fr/quote" class="text-start mx-auto w-100">
      <input type="hidden" name="source" value="website">
      
      <!-- Name fields -->
      <div class="row g-3">
        <div class="col-md-6">
          <label for="firstName" class="form-label">Prénom</label>
          <input type="text" id="firstName" name="firstName" class="form-control form-control-lg" required />
        </div>
        <div class="col-md-6">
          <label for="lastName" class="form-label">Nom</label>
          <input type="text" id="lastName" name="lastName" class="form-control form-control-lg" required />
        </div>
      </div>
      
      <!-- Contact fields -->
      <div class="row g-3 mt-2">
        <div class="col-md-6">
          <label for="email" class="form-label">Courriel</label>
          <input type="email" id="email" name="email" class="form-control form-control-lg" required />
        </div>
        <div class="col-md-6">
          <label for="phone" class="form-label">Téléphone</label>
          <input type="tel" id="phone" name="phone" class="form-control form-control-lg" />
        </div>
      </div>
      
      <!-- Service type and date -->
      <div class="row g-3 mt-2">
        <div class="col-md-6">
          <label for="serviceType" class="form-label">Type de service</label>
          <select id="serviceType" name="serviceType" class="form-select form-control-lg" required>
            <option value="moving" selected>Déménagement</option>
            <option value="junk_removal">Enlèvement d'objets</option>
            <option value="cleaning">Nettoyage</option>
            <option value="transport">Transport général</option>
            <option value="packing">Emballage</option>
            <option value="storage">Entreposage</option>
          </select>
        </div>
        <div class="col-md-6">
          <label for="movingDate" class="form-label">Date du service</label>
          <input type="date" id="movingDate" name="movingDate" class="form-control form-control-lg" required />
        </div>
      </div>
      
      <!-- Address fields - Always visible -->
      <div class="mb-3 mt-3" id="pickupAddressDiv">
        <label for="pickupAddress" class="form-label" id="pickupLabel">Adresse de départ</label>
        <input type="text" id="pickupAddress" name="pickupAddress" class="form-control form-control-lg w-100" placeholder="Commencez à taper..." autocomplete="off" />
      </div>
      
      <div class="mb-3" id="dropoffAddressDiv">
        <label for="dropoffAddress" class="form-label" id="dropoffLabel">Adresse de destination</label>
        <input type="text" id="dropoffAddress" name="dropoffAddress" class="form-control form-control-lg w-100" placeholder="Commencez à taper..." autocomplete="off" />
      </div>
      
      <!-- Comments -->
      <div class="mb-3">
        <label for="comments" class="form-label">Commentaires supplémentaires</label>
        <textarea id="comments" name="comments" class="form-control form-control-lg w-100" rows="3" placeholder="ex. Déménagement commercial, piano, objets fragiles, etc."></textarea>
      </div>
      
      <!-- Submit button -->
      <div class="text-end mt-3 mb-4">
        <button type="submit" class="btn btn-primary btn-lg w-100">Soumettre</button>
      </div>
    </form>
  </div>

  <script>
    function initMap() {
      const pickupInput = document.getElementById("pickupAddress");
      const dropoffInput = document.getElementById("dropoffAddress");

      if (pickupInput) {
        new google.maps.places.Autocomplete(pickupInput);
      }

      if (dropoffInput) {
        new google.maps.places.Autocomplete(dropoffInput);
      }
    }
    
    // Update labels and requirements based on service type
    document.addEventListener('DOMContentLoaded', function() {
      const serviceType = document.getElementById('serviceType');
      const pickupLabel = document.getElementById('pickupLabel');
      const dropoffLabel = document.getElementById('dropoffLabel');
      const pickupInput = document.getElementById('pickupAddress');
      const dropoffInput = document.getElementById('dropoffAddress');
      const pickupDiv = document.getElementById('pickupAddressDiv');
      const dropoffDiv = document.getElementById('dropoffAddressDiv');
      
      function updateLabels() {
        const service = serviceType.value;
        
        switch(service) {
          case 'cleaning':
            pickupLabel.textContent = 'Adresse du service';
            dropoffLabel.textContent = 'Lieu additionnel (si nécessaire)';
            pickupInput.placeholder = 'Adresse où le nettoyage est requis';
            dropoffInput.placeholder = 'Optionnel - autre lieu';
            pickupInput.required = true;
            dropoffInput.required = false;
            pickupDiv.style.display = 'block';
            dropoffDiv.style.display = 'block';
            break;
          case 'junk_removal':
            pickupLabel.textContent = 'Adresse de ramassage';
            dropoffLabel.textContent = 'Lieu de dépôt (si spécifique)';
            pickupInput.placeholder = 'Où ramasser les objets';
            dropoffInput.placeholder = 'Optionnel - lieu de disposition spécifique';
            pickupInput.required = true;
            dropoffInput.required = false;
            pickupDiv.style.display = 'block';
            dropoffDiv.style.display = 'block';
            break;
          case 'storage':
            pickupLabel.textContent = 'Adresse de ramassage';
            dropoffLabel.textContent = 'Entrepôt (si connu)';
            pickupInput.placeholder = 'Où ramasser les items';
            dropoffInput.placeholder = 'Optionnel - lieu d\'entreposage';
            pickupInput.required = true;
            dropoffInput.required = false;
            pickupDiv.style.display = 'block';
            dropoffDiv.style.display = 'block';
            break;
          default: // moving, transport, packing
            pickupLabel.textContent = 'Adresse de départ';
            dropoffLabel.textContent = 'Adresse de destination';
            pickupInput.placeholder = 'Commencez à taper...';
            dropoffInput.placeholder = 'Commencez à taper...';
            pickupInput.required = true;
            dropoffInput.required = true;
            pickupDiv.style.display = 'block';
            dropoffDiv.style.display = 'block';
        }
      }
      
      // Update on page load
      updateLabels();
      
      // Update when service changes
      serviceType.addEventListener('change', updateLabels);
    });
  </script>

  <script
    async
    defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDnhzsQxML5AZbTB6aeF0bKpXThGSbS-4s&libraries=places&callback=initMap"
  ></script>
</body>
</html>
